<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
      integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="main.css" />
    <title>Duration Timer</title>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const p = new URL(decodeURIComponent(document.location.href))
          .searchParams;

        let s = p.get("s") || "09:00";
        let e = p.get("e") || "17:00";
        const t = p.get("t") || "Duration Timer";
        // const pad = (n) => ("00" + Math.floor(n)).slice(-2);
        const gei = (i) => document.getElementById(i);
        gei("time-start").value = s;
        gei("time-end").value = e;
        gei("input-title").value = t;

        gei("submit").addEventListener("click", () => {
          const url = new URL("./timer.html", document.location.href);
          const s = gei("time-start").value || "09:00";
          const e = gei("time-end").value || "17:00";
          const t = gei("input-title").value || "Duration Timer";
          url.searchParams.append("s", s);
          url.searchParams.append("e", e);
          url.searchParams.append("t", t);
          window.location.href = url.href;
        });
      });
    </script>
  </head>
  <body>
    <div id="container">
      <h4 id="title">Input Time Duration</h4>
      <p id="start">
        <label>Title: </label>
        <input type="text" id="input-title" value="Duration Timer" />
      </p>
      <p id="start">
        <label>Start: </label>
        <input type="time" id="time-start" value="09:00" />
      </p>
      <p id="end">
        <label>End: </label>
        <input type="time" id="time-end" value="17:00" />
      </p>
      <button id="submit">Submit</button>
    </div>
  </body>
</html>
